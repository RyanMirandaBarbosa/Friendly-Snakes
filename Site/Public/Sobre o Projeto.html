<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- fivcon - icon da aba do navegador -->
    <link rel="shortcut icon" href="./Assets/Logo/Friendly Snakes logo simples White.png" type="image/x-icon">

    <!-- CSS -->
    <link rel="stylesheet" href="./CSS/Style.css">

    <!-- script -->
    <script src="./JS/Modal.js"></script>
    <script src="./JS/sessao.js"></script>

    <!-- chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- bootstrap icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">

    <title>Sobre o Projeto | Friendly Snakes</title>
</head>

<body >

    <header>

        <div class="container-header-itens">
            <img src="./Assets/Logo/Friendly Snakes logo White.png" alt="">

            <div class="button-menu">
                <button onclick="exibir_menu()">
                    <i class="bi bi-list"></i>
                </button>
            </div>

            <div id="menu">

                <button class="button-menu" onclick="fechar_menu()">
                    <i class="bi bi-list"></i>
                </button>

                <div id="nome_usuario_menu" class="nome"></div>

                <div class="tela">
                    <div class="nav-bar">
                        <ul>
                            <li><a href="Perfil.html">Perfil</a></li>
                            <li><a href="Sobre o Projeto.html">Sobre o Projeto</a></li>
                            <li><a href="Conhecimento.html">Mitos & Conhecimento</a></li>
                            <li><a href="Catálogo de Espécies.html">Especies Brasileiras</a></li>
                            <li><a href="Fórum.html">Forum</a></li>
                            <li><button class="button-sair" onclick="logout()">Sair</button></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

    </header>

    <div class="tela">
        <fieldset class="fieldset-padrao">
            <legend class="legend-sobre-o-projeto">Sobre o Projeto</legend>
            <span class="texto">
                Ofídios, conhecidos como cobras ou serpentes, integram o grupo dos répteis, totalizando cerca de 2.900
                espécies globalmente, com 321 espécies presentes na fauna brasileira. Encontradas em uma variedade de
                ambientes, desempenham um papel vital como predadores, controlando populações de pragas como aranhas,
                ratos e aves.
                Apesar de sua importância ecológica, as cobras enfrentam um considerável preconceito na sociedade,
                frequentemente baseado em mitos e desconhecimento. Esse estigma resulta em ações prejudiciais, como a
                perseguição indiscriminada, inclusive de espécies inofensivas.<br><br>
                A conscientização e a educação surgem como ferramentas cruciais para superar esses preconceitos.
                Compreender a diversidade e a relevância das cobras nos ecossistemas, aliado ao conhecimento sobre
                espécies locais, é fundamental para uma coexistência pacífica. É importante notar que a maioria das
                cobras não representa uma ameaça significativa para os seres humanos.<br><br>
                Além disso, a conservação das cobras é essencial, pois muitas são vítimas de tráfico e caça ilegais,
                contribuindo para o declínio de suas populações e impactando ecossistemas. Nesse contexto, o projeto
                Friendly Snakes, desenvolvido por Ryan Miranda Barbosa, emerge como uma iniciativa valiosa.
                Esta aplicação web busca desmitificar, educar e promover a conservação, oferecendo informações sobre
                espécies
                brasileiras e combatendo mitos, com o objetivo de fomentar o respeito por esses animais e contribuir
                para a sustentabilidade dos ecossistemas e da falna Brasileira.<br><br>
            </span>
        </fieldset>

        <fieldset class="fieldset-padrao">
            <legend class="legend-analytics">Analytics</legend>

            <div class="dashboard">
                <span>
                    Como as pessoas se sentiam em relação as cobras antes de conhecer o projeto Friendly Snakes
                </span>

                <div class="grafico-card">
                    <div class="grafico">
                        <canvas id="myChart1"></canvas>
                    </div>
                </div>

                <span>
                    Como as pessoas se sentem em relação as cobras após conhecer e usar o projeto Friendly Snakes
                </span>

                <div class="grafico-card">
                    <div class="grafico">
                        <canvas id="myChart2"></canvas>
                    </div>
                </div>

                <span>
                    Comparação
                </span>

                <div class="grafico-card">
                    <div class="grafico-comparativo">
                        <canvas id="myChart3"></canvas>
                    </div>
                </div>

            </div>

        </fieldset>
    </div>
</body>

<script>
    // exibir nome e sobrenome do user na modal
    var nome = sessionStorage.NOME_USUARIO;
    var sobrenome = sessionStorage.SOBRENOME_USUARIO;

        // document.addEventListener('DOMContentLoaded', function () {
        //     infGraficos();
        // });



    function infGraficos() {
    return fetch("/grafico/infGraficos", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            // Adicione dados para enviar ao servidor, se necessário
        })
    })
    .then(function (resposta) {
        console.log("ESTOU NO THEN DO infGraficos()!");

        if (resposta.ok) {
            return resposta.json();
        } else {
            console.log("Houve um erro ao tentar puxar ifoGrafico!");
            return resposta.text().then(function (texto) {
                throw new Error(texto);
            });
        }
    })
    .then(function (json) {
        console.log(json);
        console.log(JSON.stringify(json));

        // Certifique-se de validar as propriedades antes de acessá-las
        if (json) {
            sessionStorage.P1_MUITO_TRANQUILO = json.P1_muitoTranquilo;
            sessionStorage.P1_TRANQUILO = json.P1_tranquilo;
            sessionStorage.P1_NEUTRO = json.P1_neutro;
            sessionStorage.P1_MEDO = json.P1_medo;
            sessionStorage.P1_MUITO_MEDO = json.P1_muitoMedo;

            sessionStorage.P2_MUITO_TRANQUILO = json.P2_muitoTranquilo;
            sessionStorage.P2_TRANQUILO = json.P2_tranquilo;
            sessionStorage.P2_NEUTRO = json.P2_neutro;
            sessionStorage.P2_MEDO = json.P2_medo;
            sessionStorage.P2_MUITO_MEDO = json.P2_muitoMedo;
        }
    })
    .catch(function (erro) {
        console.log(erro);
        // Adicione lógica para lidar com erros, se necessário
    });
}
    var p1_muito_tranquilo = Number(sessionStorage.P1_MUITO_TRANQUILO);
    var p1_tranquilo = Number(sessionStorage.P1_TRANQUILO);
    var p1_neutro = Number(sessionStorage.P1_NEUTRO);
    var p1_medo = Number(sessionStorage.P1_MEDO);
    var p1_muito_medo = Number(sessionStorage.P1_MUITO_MEDO);

    var p2_muito_tranquilo = Number(sessionStorage.P2_MUITO_TRANQUILO);
    var p2_tranquilo = Number(sessionStorage.P2_TRANQUILO);
    var p2_neutro = Number(sessionStorage.P2_NEUTRO);
    var p2_medo = Number(sessionStorage.P2_MEDO);
    var p2_muito_medo = Number(sessionStorage.P2_MUITO_MEDO);

    nome_usuario_menu.innerHTML = `${nome} ${sobrenome}`;

    const ctx1 = document.getElementById('myChart1');
    const ctx2 = document.getElementById('myChart2');
    const ctx3 = document.getElementById('myChart3');
    Chart.defaults.color = '#ffffff';
    Chart.defaults.font.size = 15;


    new Chart(ctx1, {
        type: 'pie',
        data: {
            labels: [
                'Muito Tranquilo',
                'Tranquilo',
                'Neutro',
                'Medo',
                'Muito Medo'
            ],
            datasets: [{
                label: 'Quantidade de Pessoas',
                data: [p1_muito_tranquilo, p1_tranquilo, p1_neutro, p1_medo, p1_muito_medo],
                backgroundColor: [
                    '#457fde',
                    '#45de5c',
                    '#d1de45',
                    '#de8745',
                    '#de4545'
                ],
            }]
        }
    });

    new Chart(ctx2, {
        type: 'pie',
        data: {
            labels: [
                'Muito Tranquilo',
                'Tranquilo',
                'Neutro',
                'Medo',
                'Muito Medo'
            ],
            datasets: [{
                label: 'Quantidade de Pessoas',
                data: [p2_muito_tranquilo, p2_tranquilo, p2_neutro, p2_medo, p2_muito_medo],
                backgroundColor: [
                    '#457fde',
                    '#45de5c',
                    '#d1de45',
                    '#de8745',
                    '#de4545'
                ],
            }]
        }
    });

    new Chart(ctx3, {
        type: 'bar',
        data: {
            labels: ['Muito Tranquilo', 'Tranquilo', 'Neutro', 'Medo', 'Muito Medo'],
            datasets: [{
                label: 'Antes',
                data: [p1_muito_tranquilo, p1_tranquilo, p1_neutro, p1_medo, p1_muito_medo],
                backgroundColor: ['#de4545'],
                borderColor: ['#ffffff'],
                borderWidth: 3
            },
            {
                label: 'Depois',
                data: [p2_muito_tranquilo, p2_tranquilo, p2_neutro, p2_medo, p2_muito_medo],
                backgroundColor: ['#457fde'],
                borderColor: ['#ffffff'],
                borderWidth: 3
            }
            ]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });

    document.addEventListener('DOMContentLoaded', function () {
            infGraficos();
        });

        infGraficos();
</script>

</html>